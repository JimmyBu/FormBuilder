{"ast":null,"code":"var _jsxFileName = \"/Users/jimmy/FormBuilder/Frontend/form_builder/src/form_builder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { DragDropContext, Droppable, Draggable } from \"@hello-pangea/dnd\";\nimport { fetchForm, updateForm, fetchAllForms, saveForm } from './api';\nimport FieldEditor from './FieldEditor';\nimport AvailableFields from './AvailableFields';\nimport FormContainer from './FormContainer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormBuilder = () => {\n  _s();\n  const [fields, setFields] = useState(initialFields);\n  const [containerFields, setContainerFields] = useState([]);\n  const [selectedField, setSelectedField] = useState(null);\n  const [formList, setFormList] = useState([]);\n  const [formId, setFormId] = useState(null);\n  const [formName, setFormName] = useState(\"\");\n  const inputRefs = useRef({});\n\n  // Fetch all forms on component mount\n  useEffect(() => {\n    fetchAllForms().then(forms => {\n      setFormList(forms);\n    });\n  }, []);\n\n  // Focus logic\n  useEffect(() => {\n    if (selectedField) {\n      const inputElement = inputRefs.current[selectedField.id];\n      if (inputElement && document.activeElement !== inputElement) {\n        inputElement.focus();\n      }\n    }\n  }, [selectedField]);\n  const onDragEnd = result => {\n    // Drag and drop handling logic\n  };\n  const handleFieldUpdate = (id, key, value) => {\n    // Field update logic\n  };\n  const handleSubmit = () => {\n    // Form submission logic\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Form Builder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: formName,\n      onChange: e => setFormName(e.target.value),\n      placeholder: \"Enter Form Name\",\n      style: {\n        padding: \"10px\",\n        width: \"100%\",\n        maxWidth: \"400px\",\n        marginBottom: \"20px\",\n        borderRadius: \"4px\",\n        border: \"1px solid #ccc\",\n        fontSize: \"16px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: formId,\n      onChange: e => {\n        const selectedForm = formList.find(form => form.id === e.target.value);\n        setFormId(selectedForm === null || selectedForm === void 0 ? void 0 : selectedForm.id);\n        setContainerFields((selectedForm === null || selectedForm === void 0 ? void 0 : selectedForm.form_data) || []);\n      },\n      style: {\n        padding: \"10px\",\n        width: \"100%\",\n        maxWidth: \"400px\",\n        marginBottom: \"20px\",\n        borderRadius: \"4px\",\n        border: \"1px solid #ccc\",\n        fontSize: \"16px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), formList.map(form => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: form.id,\n        children: form.form_name\n      }, form.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\"\n      },\n      children: /*#__PURE__*/_jsxDEV(DragDropContext, {\n        onDragEnd: onDragEnd,\n        children: [/*#__PURE__*/_jsxDEV(AvailableFields, {\n          fields: fields\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n          containerFields: containerFields,\n          setSelectedField: setSelectedField\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), selectedField && /*#__PURE__*/_jsxDEV(FieldEditor, {\n      field: selectedField,\n      handleFieldUpdate: handleFieldUpdate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      style: {\n        padding: \"10px 20px\",\n        marginTop: \"20px\"\n      },\n      children: \"Submit Form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(FormBuilder, \"yaqQS/u2PhfQEydxw0vow+Y1aLA=\");\n_c = FormBuilder;\nexport default FormBuilder;\nvar _c;\n$RefreshReg$(_c, \"FormBuilder\");","map":{"version":3,"names":["React","useState","useEffect","useRef","DragDropContext","Droppable","Draggable","fetchForm","updateForm","fetchAllForms","saveForm","FieldEditor","AvailableFields","FormContainer","jsxDEV","_jsxDEV","FormBuilder","_s","fields","setFields","initialFields","containerFields","setContainerFields","selectedField","setSelectedField","formList","setFormList","formId","setFormId","formName","setFormName","inputRefs","then","forms","inputElement","current","id","document","activeElement","focus","onDragEnd","result","handleFieldUpdate","key","value","handleSubmit","style","display","flexDirection","alignItems","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","placeholder","width","maxWidth","marginBottom","borderRadius","border","fontSize","selectedForm","find","form","form_data","map","form_name","justifyContent","field","onClick","marginTop","_c","$RefreshReg$"],"sources":["/Users/jimmy/FormBuilder/Frontend/form_builder/src/form_builder.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { DragDropContext, Droppable, Draggable } from \"@hello-pangea/dnd\";\nimport { fetchForm, updateForm, fetchAllForms, saveForm } from './api';\nimport FieldEditor from './FieldEditor';\nimport AvailableFields from './AvailableFields';\nimport FormContainer from './FormContainer';\n\nconst FormBuilder = () => {\n  const [fields, setFields] = useState(initialFields);\n  const [containerFields, setContainerFields] = useState([]);\n  const [selectedField, setSelectedField] = useState(null);\n  const [formList, setFormList] = useState([]);\n  const [formId, setFormId] = useState(null);\n  const [formName, setFormName] = useState(\"\");\n  \n  const inputRefs = useRef({});\n\n  // Fetch all forms on component mount\n  useEffect(() => {\n    fetchAllForms().then((forms) => {\n      setFormList(forms);\n    });\n  }, []);\n\n  // Focus logic\n  useEffect(() => {\n    if (selectedField) {\n      const inputElement = inputRefs.current[selectedField.id];\n      if (inputElement && document.activeElement !== inputElement) {\n        inputElement.focus();\n      }\n    }\n  }, [selectedField]);\n\n  const onDragEnd = (result) => {\n    // Drag and drop handling logic\n  };\n\n  const handleFieldUpdate = (id, key, value) => {\n    // Field update logic\n  };\n\n  const handleSubmit = () => {\n    // Form submission logic\n  };\n\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", padding: \"20px\" }}>\n      <h2>Form Builder</h2>\n      <input\n        type=\"text\"\n        value={formName}\n        onChange={(e) => setFormName(e.target.value)}\n        placeholder=\"Enter Form Name\"\n        style={{ padding: \"10px\", width: \"100%\", maxWidth: \"400px\", marginBottom: \"20px\", borderRadius: \"4px\", border: \"1px solid #ccc\", fontSize: \"16px\" }}\n      />\n      <select\n        value={formId}\n        onChange={(e) => {\n          const selectedForm = formList.find((form) => form.id === e.target.value);\n          setFormId(selectedForm?.id);\n          setContainerFields(selectedForm?.form_data || []);\n        }}\n        style={{ padding: \"10px\", width: \"100%\", maxWidth: \"400px\", marginBottom: \"20px\", borderRadius: \"4px\", border: \"1px solid #ccc\", fontSize: \"16px\" }}\n      >\n        <option value=\"\">Select Form</option>\n        {formList.map((form) => (\n          <option key={form.id} value={form.id}>{form.form_name}</option>\n        ))}\n      </select>\n\n      <div style={{ display: \"flex\", width: \"100%\", justifyContent: \"space-between\" }}>\n        <DragDropContext onDragEnd={onDragEnd}>\n          <AvailableFields fields={fields} />\n          <FormContainer containerFields={containerFields} setSelectedField={setSelectedField} />\n        </DragDropContext>\n      </div>\n\n      {selectedField && <FieldEditor field={selectedField} handleFieldUpdate={handleFieldUpdate} />}\n      \n      <button onClick={handleSubmit} style={{ padding: \"10px 20px\", marginTop: \"20px\" }}>Submit Form</button>\n    </div>\n  );\n};\n\nexport default FormBuilder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}